A1 builtin conditional proof
A2 builtin proof by induction
A3 builtin symmetry
A4 builtin combine
A5 builtin substitution
M1 maths a + 0 = a
M2 maths a + (b + 1) = (a + b) + 1
M3 maths (a = b) = (a + 1 = b + 1)
M4 maths 0 + a = a

1 (A4, M1, M3:a=a + 0,b=a) (a + 0) + 1 = a + 1
2 (A4, 1, M1:a=a + 1) (a + 0) + 1 = (a + 1) + 0
3 (A3, 2) (a + 1) + 0 = (a + 0) + 1

4 scope (a + 1) + b = (a + b) + 1 [
  5 (M2:a=a + 1) (a + 1) + (b + 1) = ((a + 1) + b) + 1
  6 (A4, 4, M3:a=(a + 1) + b,b=(a + b) + 1) ((a + 1) + b) + 1 = ((a + b) + 1) + 1
  7 (A4, 5, 6) (a + 1) + (b + 1) = ((a + b) + 1) + 1
  8 (A4, M2, M3:a=a + (b + 1),b=(a + b) + 1) (a + (b + 1)) + 1 = ((a + b) + 1) + 1
  9 (A4, 7, 8) (a + 1) + (b + 1) = (a + (b + 1)) + 1
]
10 (A1, 4, 9) ((a + 1) + b = (a + b) + 1) => ((a + 1) + (b + 1) = (a + (b + 1)) + 1)
11 (A2, 3, 10) (a + 1) + b = (a + b) + 1

12 (A4, M1, M4) a + 0 = 0 + a

13 scope a + b = b + a [
  14 (A3, 13) b + a = a + b
  15 (11:a=b,b=a) (b + 1) + a = (b + a) + 1
  16 (A5, 15, 14, 1) (b + 1) + a = (a + b) + 1
  17 (A4, M2, 16) a + (b + 1) = (b + 1) + a
]
18 (A1, 13, 17) (a + b = b + a) => (a + (b + 1) = (b + 1) + a)
19 (A2, 12, 18) a + b = b + a
