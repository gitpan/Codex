A1 builtin conditional proof
A2 builtin proof by induction
A3 builtin modus ponens
A4 builtin double implication
A5 builtin combine
M1 maths a + 0 = a
M2 maths a + (b + 1) = (a + b) + 1
M3 maths (a = b) = (a + 1 = b + 1)

1 scope a = b [
  2 (A5, M1, 1) a + 0 = b
  3 (A5, 2, M1:a=b) a + 0 = b + 0
]
4 (A1, 1, 3) (a = b) => (a + 0 = b + 0)

5 scope (a = b) => (a + c = b + c) [
  6 scope a = b [
    7 (A3, 5, 6) a + c = b + c
    8 (A5, 7, M3:a=a + c,b=b + c) (a + c) + 1 = (b + c) + 1
    9 (A5, M2:b=c, 8) a + (c + 1) = (b + c) + 1
    10 (A5, 9, M2:a=b,b=c) a + (c + 1) = b + (c + 1)
  ]
  11 (A1, 6, 10) (a = b) => (a + (c + 1) = b + (c + 1))
]
12 (A1, 5, 11) ((a = b) => (a + c = b + c)) => ((a = b) => (a + (c + 1) = b + (c + 1)))
13 (A2, 4, 12) (a = b) => (a + c = b + c)

14 scope a + 0 = b + 0 [
  15 (A5, M1, 14) a = b + 0
  16 (A5, 15, M1:a=b) a = b
]
17 (A1, 14, 16) (a + 0 = b + 0) => (a = b)

18 scope (a + c = b + c) => (a = b) [
  19 scope a + (c + 1) = b + (c + 1) [
    20 (A5, M2:b=c, 19) (a + c) + 1 = b + (c + 1)
    21 (A5, 20, M2:a=b,b=c) (a + c) + 1 = (b + c) + 1
    22 (A5, 21, M3:a=a + c,b=b + c) a + c = b + c
    23 (A3, 18, 22) a = b
  ]
  24 (A1, 19, 23) (a + (c + 1) = b + (c + 1)) => (a = b)
]
25 (A1, 18, 24) ((a + c = b + c) => (a = b)) => ((a + (c + 1) = b + (c + 1)) => (a = b))
26 (A2, 17, 25) (a + c = b + c) => (a = b)

27 (A4, 13, 26) (a = b) = (a + c = b + c)
