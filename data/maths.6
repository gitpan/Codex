A1 builtin conditional proof
A2 builtin proof by induction
A3 builtin combine
A4 builtin substitution
M1 maths a * 0 = 0
M2 maths a * (b + 1) = a * b + a
M3 maths 0 * a = 0
M4 maths a + 0 = a
M5 maths a + b = b + a
M6 maths (a + b) + c = a + (b + c)

1 (M1:a=a + 1) (a + 1) * 0 = 0
2 (A3, 1, M4:a=0) (a + 1) * 0 = 0 + 0
3 (A4, 2, M1, -2) (a + 1) * 0 = a * 0 + 0

4 scope (a + 1) * b = a * b + b [
  5 (M2:a=a + 1) (a + 1) * (b + 1) = (a + 1) * b + (a + 1)
  6 (A4, 5, 4, 1) (a + 1) * (b + 1) = (a * b + b) + (a + 1)
  7 (A3, 6, M6:a=a * b,c=a + 1) (a + 1) * (b + 1) = a * b + (b + (a + 1))
  8 (A4, 7, M6:a=b,b=a,c=1, -1) (a + 1) * (b + 1) = a * b + ((b + a) + 1)
  9 (A4, 8, M5, -1) (a + 1) * (b + 1) = a * b + ((a + b) + 1)
  10 (A4, 9, M6:c=1, 1) (a + 1) * (b + 1) = a * b + (a + (b + 1))
  11 (A4, 10, M6:a=a * b,b=a,c=b + 1, -1) (a + 1) * (b + 1) = (a * b + a) + (b + 1)
  12 (A4, 11, M2, -1) (a + 1) * (b + 1) = (a * (b + 1)) + (b + 1)
]
13 (A1, 4, 12) ((a + 1) * b = a * b + b) => ((a + 1) * (b + 1) = (a * (b + 1)) + (b + 1))
14 (A2, 3, 13) (a + 1) * b = a * b + b

15 (A3, M1, M3) a * 0 = 0 * a

16 scope a * b = b * a [
  17 (A4, M2, 16, 1) a * (b + 1) = b * a + a
  18 (14:a=b,b=a) (b + 1) * a = b * a + a
  19 (A3, 17, 18) a * (b + 1) = (b + 1) * a
]
20 (A1, 16, 19) (a * b = b * a) => (a * (b + 1) = (b + 1) * a)
21 (A2, 15, 20) a * b = b * a
